{"name":"mongotree","tagline":"Manage tree structures in MongoDB","body":"# mongotree\r\n\r\nManage tree structures in MongoDB\r\n\r\n## Getting Started\r\nInstall the module with: `npm install mongotree`\r\n\r\nCreate a default tree\r\n```javascript\r\nvar mongotree = require('mongotree'),\r\n\tMongoClient = require('mongodb').MongoClient,\r\n\tdsn = 'mongodb://localhost:27017/my-database';\r\n\r\n// Create a new tree structure in a mongodb collection\r\nMongoClient.connect(dsn, function(err, db) {\r\n\tmongotree.addTree('products/cameras/accessories', db.collection('my-collection'), function(err, tree) {\r\n\t\tconsole.log(tree);\r\n\t\tdb.close();\r\n\t});\r\n});\r\n\r\n// outputs\r\n[ { _id: 'products', name: 'products', parent: '' },\r\n  { _id: 'products/cameras', name: 'cameras', parent: 'products' },\r\n  { _id: 'products/cameras/accessories',\r\n    name: 'accessories',\r\n    parent: 'products/cameras' } ]\r\n\r\n```\r\n\r\nCreate a tree with custom params for nodes\r\n\r\n```javascript\r\nvar params = {\r\n\tpath: 'products/cameras/accessories',\r\n\tcreated: new Date()\r\n};\r\nmongotree.addTree(params, db.collection('my-collection'), function(err, tree) {\r\n\tconsole.log(tree);\r\n});\r\n\r\n// outputs\r\n[ { _id: 'products',\r\n    name: 'products',\r\n    parent: '',\r\n    created: Fri Aug 16 2013 09:41:44 GMT-0700 (MST) },\r\n  { _id: 'products/cameras',\r\n    name: 'cameras',\r\n    parent: 'products',\r\n    created: Fri Aug 16 2013 09:41:44 GMT-0700 (MST) },\r\n  { _id: 'products/cameras/accessories',\r\n    name: 'accessories',\r\n    parent: 'products/cameras',\r\n    created: Fri Aug 16 2013 09:41:44 GMT-0700 (MST) } ]\r\n```\r\n\r\nCreate a tree with friendly path names\r\n\r\n```javascript\r\nmongotree.addTree('Products / Cameras / Camera Accessories', collection, function(err, tree) {\r\n\tconsole.log(tree);\r\n});\r\n\r\n// outputs\r\n[ { _id: 'products',\r\n    name: 'Products',\r\n    parent: '' },\r\n  { _id: 'products/cameras',\r\n    name: 'Cameras',\r\n    parent: 'products' },\r\n  { _id: 'products/cameras/camera-accessories',\r\n    name: 'Camera Accessories',\r\n    parent: 'products/cameras' } ]\r\n```\r\n\r\nGet ancestors\r\n\r\n```javascript\r\nmongotree.getAncestors('products/cameras/accessories', collection, function(err, tree) {\r\n\tconsole.log(tree);\r\n});\r\n\r\n// outputs\r\n[ { _id: 'products', name: 'products', parent: '' },\r\n  { _id: 'products/cameras', name: 'cameras', parent: 'products' } ]\r\n```\r\n\r\nGet decendants\r\n\r\n```javascript\r\nmongotree.getDecendants('products', collection, function(err, tree) {\r\n\tconsole.log(tree);\r\n});\r\n\r\n// outputs\r\n[ { _id: 'products/cameras', name: 'cameras', parent: 'products' },\r\n  { _id: 'products/cameras/accessories',\r\n    name: 'accessories',\r\n    parent: 'products/cameras' } ]\r\n```","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}